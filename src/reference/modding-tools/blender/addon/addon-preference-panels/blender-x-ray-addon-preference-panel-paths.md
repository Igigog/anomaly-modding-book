# Paths

___

## About

Данная категория настроек содержит пути к файлам и папкам из игры/X-Ray SDK.

___

## Mode

| Режим путей | Description |
|---|---|
| Base | базовый режим, который позволяет указать файлы и папки из одной игры/мода/X-Ray SDK |
| Advanced | расширенный режим, который позволяет указать файлы и папки из нескольких игр/модов/X-Ray SDK |

### Base

Данные настройки указывают пути ко внешним файлам или директориям игры или X-Ray SDK. Есть возможность установить пути автоматически, на основе одного параметра. К примеру, если указать папку gamedata в параметре Gamedata Folder, то пустые пути (кроме, FS Ltx File) будут заполнены автоматически. Автоматически заполненные пути имеют кнопку с иконкой гаечного ключа справа. Чтобы изменить путь вручную, нужно нажать на эту кнопку. Кнопка с ключом исчезнет и вместо неё будет отображаться кнопка с иконкой папки. После этого можно открыть файловый браузер с помощью кнопки с изображённой папкой и в браузере выбрать нужную папку или файл. Либо можно изменить путь в текстовом поле, напечатав его с клавиатуры. Если путь задан вручную, то его значение не будет изменяться аддоном автоматически. Для того, чтобы вернуть автоматическое указание пути, нужно очистить поле ввода пути. Автоматически аддон устанавливает такие значения:

| Параметр | Description |
|---|---|
| FS Ltx File | - |
| Gamedata Folder | . |
| Textures Folder | .textures\ |
| Meshes Folder | .meshes\ |
| Levels Folder | .levels\ |
| Objects Folder | ..rawdata\objects |
| Engine Shaders File | .shaders.xr |
| Compile Shaders File | .shaders_xrlc.xr |
| Game Materials File | .gamemtl.xr |

#### FS Ltx File

Путь к fs.ltx файлу. Так же можно указать fsgame.ltx файл. Данный файл находится в X-Ray SDK и хранит пути к директориям. Аддон использует fs.ltx файл только для того, чтобы автоматически установить все остальные пути. Используются только эти переменные из файла: $fs_root$/$sdk_root$, $game_data$, $game_textures$, $game_meshes$, $game_levels$, $objects$. Поиск файлов gamemtl.xr, shaders.xr, shaders_xrlc.xr производится в директории, которая указана в $game_data$. Если пути уже настроены, то указывать FS Ltx File не обязательно. Данный параметр нужен для корректной автоматической установки путей, если fs.ltx файл был отредактирован и X-Ray SDK использует пути, которые отличаются от gamedata, gamedata\textures, gamedata\meshes, gamedata\levels, rawdata\objects.

#### Gamedata Folder

Путь, который должен ссылаться на gamedata папку (или на папку, которая указана в $game_data$, если fs.ltx был изменён). Данный путь используется только для автоматической установки параметров, которые расположены ниже. Пути автоматически устанавливаются, путём прибавления Gamedata Folder и заранее установленных значений. Значения устанавливаются следующим образом: Textures Folder - textures, Meshes Folder - meshes, Levels Folder - levels, Game Materials File - gamemtl.xr, Engine Shaders File - shaders.xr, Compile Shaders File - shaders_xrlc.xr, Objects Folder - ..rawdata\objects, где .. вначале Objects Folder означают перейти в пути на одну папку назад. То есть путь к Objects Folder будет выглядеть так: c:\programs\xray_sdk\rawdata\objects\, если Gamedata Folder имеет следующее значение: c:\programs\xray_sdk\gamedata\.

#### Textures Folder

Путь, который должен ссылаться на $game_textures$. Обычно это папка gamedata\textures, которая содержит текстуры. Поддерживается загрузка только *.dds формата. Данный путь используется только теми операторами, которые импортируют/экспортируют форматы, поддерживающие использование текстур. При импорте, аддон ищет .dds текстуры по этому пути и загружает их в blender.

#### Meshes Folder

Путь к папке с игровыми 3D объектами и анимациями. Обычно находится в X-Ray SDK в папке gamedata\meshes. Используется для вычисления Export Path у импортированных *.ogf` файлов.

#### Levels Folder

Путь к папке с игровыми уровнями. Обычно находится в X-Ray SDK в папке gamedata\levels. Используется при экспорте игровых уровней для вычисления относительных путей к *.dds текстурам, если они находятся в папке с уровнем в gamedata\levels, а не gamedata\textures. Обычно карты освещения хранятся в папке с уровнем.

#### Objects Folder

Путь к папке с исходными 3D объектами и анимациями. Обычно находится в X-Ray SDK в папке rawdata\objects. Из этой папки аддон может считывать только *.object и .skls файлы. Данную папку используют .object, .level, .part, .group импортёры/экспортёры. Так же этот параметр используют некоторые операторы, например, Motions Browser (если его запускать из Motion Refs свитка, режим Load Active Motion Refs).

#### Engine Shader File

Путь к shaders.xr файлу. Обычно хранится в gamedata\shaders.xr. Данный файл содержит описания настроек шейдеров. Отвечает за внешний вид поверхности в X-Ray SDK и игре. Если данный путь ссылается на shaders.xr файл, то список Shader в параметрах материалов будет заполнен именами шейдеров из данного файла и можно будет указать любое имя движкового шейдера из этого списка. Если данный путь не ссылается на shaders.xr файл, то список Shader у материалов будет пустым. Из shaders.xr файла считываются только имена шейдеров.

#### Compile Shader File

Путь к shaders_xrlc.xr файлу. Обычно хранится в gamedata\shaders_xrlc.xr. Данный файл содержит описания настроек, которые использует компилятор геометрии уровней (xrLC.exe). Указывает компилятору свойства конечной игровой геометрии уровня. Исходная геометрия, в зависимости от компиляторного шейдера, может не иметь видимой или осязаемой для столкновений геометрии, иметь различный способ хранения освещения и т. д. Если данный путь ссылается на shaders_xrlc.xr файл, то список Compile у материалов заполнится именами шейдеров из этого файла и можно будет указать из списка любое имя компиляторного шейдера. Из shaders_xrlc.xr файла считываются только имена шейдеров.

#### Game Materials File

Путь к gamemtl.xr файлу. Обычно хранится в gamedata\gamemtl.xr. Данный файл хранит материалы поверхностей. В X-Ray Engine материалом является физическое свойство поверхности для коллизии, и не влияет на визуальное представление (не путать с материалам в blender, которые влияют на внешний вид). Для изменения внешнего вида поверхности в X-Ray Engine используются шейдеры. От материала зависят звуки шагов, wallmark-текстуры от выстрелов, трение, эффекты частиц при попадании пуль, способность получать отбрасываемые тени от динамических объектов и т. д. Если данный путь ссылается на gamemtl.xr файл, то список параметра GameMtl у материалов и костей заполнится именами материалов из gamemtl.xr файла и из этого списка можно будет указать любое имя материала. Если этот путь не ссылается на gamemtl.xr файл, то список GameMtl у материалов и костей будет пустым. Из gamemtl.xr файла считываются только имена, текстовые описания и целочисленные идентификаторы материалов.

___

### Advanced

Данные параметры позволяют указать по два пути для каждого параметра. Первый путь - путь к папке или файлу платформы, например, ТЧ, ЧН, ЗП. Второй путь указывает папки и файлы для мода. Например, если нужно настроить аддон для импорта файлов из Arsenal Mod для ТЧ, то в качестве платформы нужно указать пути от распакованных архивов ТЧ, а в качестве мода указать пути к gamedata папке Arsenal Mod. Это позволит искать текстуры сразу из двух папок ТЧ и Arsenal Mod. Пути от мода имеют более высокий приоритет, как в игре.

#### Used Config

Используемый конфиг путей. Список конфигов, которые можно выбрать, находится ниже в разделе Paths Configs.

#### Paths Configs

Список конфигов путей. Каждый конфиг имеет параметры внизу, под меткой Active Paths Config. Чтобы изменить эти параметры, нужно выделить нужный конфиг в списке. Доступны два параметра.

Platform - пресет, который указывает пути к файлам и папкам платформы.
Mod - пресет, который указывает пути к файлам и папкам мода.

#### Paths Presets

Список пресетов путей. Элементы из этого списка можно выбрать в параметрах Platform и Mod из раздела Paths Configs. Настройки идентичны настройкам из режима Base. Так же есть дополнительный параметр Format Version.

#### Format Version

Указывает версию платформы ТЧ или ЧН/ЗП. Этот параметр указывает значение по-умолчанию для параметра Format Version операторов импорта/экспорта.

___

## Sources

[Source](https://github.com/PavelBlend/blender-xray/wiki/Preferences-Paths)
